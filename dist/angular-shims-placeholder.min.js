/*! angular-shims-placeholder - v0.3.4 - 2014-12-17
* https://github.com/cvn/angular-shims-placeholder
* Copyright (c) 2014 Chad von Nau; Licensed MIT */
!function(a,b){"use strict";a.module("ng.shims.placeholder",[]).service("placeholderSniffer",["$document",function(a){this.emptyClassName="empty",this.hasPlaceholder=function(){var b=a[0].createElement("input");return void 0!==b.placeholder}}]).directive("placeholder",["$timeout","$document","placeholderSniffer",function(c,d,e){if(e.hasPlaceholder())return{};var f=!1;return{restrict:"A",require:"?ngModel",priority:110,link:function(g,h,i,j){function k(){var a=h.val();h.hasClass(E)&&a&&a===D||l(function(){m(a)})}function l(a){b.documentMode<=11?c(a,0):a()}function m(a){a||z===b.activeElement?(h.removeClass(E),h.val(a)):(h.addClass(E),C||h.val(D)),C&&r()}function n(){return j?g.$eval(i.ngModel)||"":o()||""}function o(){var a=h.val();return a===i.placeholder&&(a=""),a}function p(a,b){b?a.attr("unselectable","on"):a.removeAttr("unselectable")}function q(){x=a.element('<input type="text" value="'+D+'"/>'),s(),x.addClass(E).addClass(F).bind("focus",v),z.parentNode.insertBefore(x[0],z);for(var b=[i.ngDisabled,i.ngReadonly,i.ngRequired,i.ngShow,i.ngHide],c=0;c<b.length;c++)b[c]&&g.$watch(b[c],r)}function r(){s(),w()?x.addClass(F):h.hasClass(E)&&z!==b.activeElement?t():u()}function s(){x.val(D).attr("class",h.attr("class")||"").attr("style",h.attr("style")||"").prop("disabled",h.prop("disabled")).prop("readOnly",h.prop("readOnly")).prop("required",h.prop("required")),p(x,"on"===h.attr("unselectable"))}function t(){h.addClass(F),x.removeClass(F)}function u(){x.addClass(F),h.removeClass(F)}function v(){u(),z.focus()}function w(){var a="undefined"!=typeof i.ngShow,b="undefined"!=typeof i.ngHide;return a||b?a&&!g.$eval(i.ngShow)||b&&g.$eval(i.ngHide):!1}var x,y=n(),z=h[0],A=z.nodeName.toLowerCase(),B="input"===A||"textarea"===A,C="password"===i.type,D=i.placeholder,E=e.emptyClassName,F="ng-hide";B&&(i.$observe("placeholder",function(a){h.hasClass(E)&&h.val()===D&&h.val(""),D=a,k()}),C&&q(),m(y),h.bind("focus",function(){h.hasClass(E)&&(h.val(""),h.removeClass(E),z.select())}),h.bind("blur",k),j||h.bind("change",k),j&&(j.$render=function(){m(j.$viewValue),z!==b.activeElement||h.val()||z.select()}),f||(d.on("selectstart",function(b){var c=a.element(b.target);c.hasClass(E)&&c.prop("disabled")&&b.preventDefault()}),f=!0))}}}])}(window.angular,window.document);