/*! angular-shims-placeholder - v0.4.0 - 2015-04-08
* https://github.com/cvn/angular-shims-placeholder
* Copyright (c) 2015 Chad von Nau; Licensed MIT */
!function(a,b){"use strict";a.module("ng.shims.placeholder",[]).service("placeholderSniffer",["$document",function(a){this.emptyClassName="empty",this.hasPlaceholder=function(){var b=a[0].createElement("input");return void 0!==b.placeholder}}]).directive("placeholder",["$timeout","$document","$interpolate","$animate","placeholderSniffer",function(c,d,e,f,g){if(g.hasPlaceholder())return{};var h=!1,i=parseFloat(a.version.full)>=1.3;return{restrict:"A",require:"?ngModel",priority:110,link:function(j,k,l,m){function n(){var a=k.val();k.hasClass(J)&&a&&a===I||o(function(){p(a)})}function o(a){b.documentMode<=11?c(a,0):a()}function p(a){a||0===a||E===b.activeElement?(k.removeClass(J),k.val(a)):(k.addClass(J),k.val(H?"":I)),H&&(v(),w())}function q(){return m?j.$eval(l.ngModel)||"":r()||""}function r(){var a=k.val();return a===l.placeholder&&(a=""),a}function s(a){k.hasClass(J)&&k.val()===I&&k.val(""),I=a,n()}function t(a,b){b?a.attr("unselectable","on"):a.removeAttr("unselectable")}function u(){C=a.element('<input type="text" value="'+I+'"/>'),x(),C.addClass(J).addClass(K).bind("focus",A),E.parentNode.insertBefore(C[0],E);for(var b=[l.ngDisabled,l.ngReadonly,l.ngRequired,l.ngShow,l.ngHide],c=0;c<b.length;c++)b[c]&&j.$watch(b[c],w)}function v(){x(),B()?C.addClass(K):k.hasClass(J)&&E!==b.activeElement?y():z()}function w(){i?f.addClass(k,"").then(v):f.addClass(k,"",v)}function x(){C.val(I).attr("class",k.attr("class")||"").attr("style",k.attr("style")||"").prop("disabled",k.prop("disabled")).prop("readOnly",k.prop("readOnly")).prop("required",k.prop("required")),t(C,"on"===k.attr("unselectable"))}function y(){k.addClass(K),C.removeClass(K)}function z(){C.addClass(K),k.removeClass(K)}function A(){z(),E.focus()}function B(){var a="undefined"!=typeof l.ngShow,b="undefined"!=typeof l.ngHide;return a||b?a&&!j.$eval(l.ngShow)||b&&j.$eval(l.ngHide):!1}var C,D=q(),E=k[0],F=E.nodeName.toLowerCase(),G="input"===F||"textarea"===F,H="password"===l.type,I=l.placeholder,J=g.emptyClassName,K="ng-hide";G&&(l.$observe("placeholder",function(a){s(a)}),H&&u(),p(D),k.bind("focus",function(){k.hasClass(J)&&(k.val(""),k.removeClass(J),E.select())}),k.bind("blur",n),m||k.bind("change",function(){s(e(k.attr("placeholder"))(j))}),m&&(m.$render=function(){p(m.$viewValue),E!==b.activeElement||k.val()||E.select()}),h||(d.on("selectstart",function(b){var c=a.element(b.target);c.hasClass(J)&&c.prop("disabled")&&b.preventDefault()}),h=!0))}}}])}(window.angular,window.document);